---
import WhyUsItem from "../pros/WhyUsItem.astro";
import SectionCorner from "../SectionCorner.astro";

const { title, whyUsItems } = Astro.props;

export interface IWhyUsItem {
  iconStr: string;
  title: string;
  description: string;
}

interface Props {
  title: string;
  whyUsItems?: IWhyUsItem[];
}
---

<section
  class="bg-primary relative mx-auto gap-8 px-4 py-[100px] selection:bg-white! selection:text-[#524CF2]! md:items-center md:gap-8 md:py-[134px] xl:px-10"
>
  <SectionCorner className="text-gray-10" position="top-left" />
  <SectionCorner className="text-[white]" position="bottom-right" />

  <div
    class="m-auto flex max-w-[85rem] flex-col text-white"
    data-aos="fade-up"
    data-aos-delay="150"
    data-aos-once="true"
  >
    <h1
      class="font-helvetica-black block text-center text-[32px] leading-[120%] font-black text-balance whitespace-pre-line md:text-[52px] lg:text-[52px] dark:text-neutral-200"
    >
      <Fragment set:html={title} />
    </h1>

    {
      whyUsItems && (
        <div class="mt-[90px] flex w-full flex-col items-center justify-center gap-6 sm:flex-row">
          {whyUsItems.map((item, index) => {
            if (index < whyUsItems.length && index !== whyUsItems.length - 1) {
              return (
                <div
                  data-aos="fade-up"
                  data-aos-delay={150 + index * 200}
                  data-aos-once="true"
                  class={"relative flex h-[177px] max-w-[280px] flex-1 items-center gap-4"}
                >
                  <WhyUsItem {...item} />
                  <div class="absolute right-[-12px] mt-6 hidden h-[100px] w-[1px] bg-white opacity-50 sm:block" />
                </div>
              );
            }
            return (
              <div
                data-aos="fade-up"
                data-aos-delay={150 + index * 200}
                data-aos-once="true"
                class={"flex h-[177px] max-w-[280px] flex-1 flex-col items-center gap-4"}
              >
                <WhyUsItem {...item} />
              </div>
            );
          })}
        </div>
      )
    }
  </div>
</section>
